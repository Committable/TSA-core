{"id": "138", "name": "SourceUnit", "layer": 0, "children": [{"id": "1", "name": "PragmaDirective", "layer": 1, "children": [], "ischanged": false, "src": "32:23"}, {"id": "137", "name": "ContractDefinition", "layer": 1, "children": [{"id": "2", "name": "StructuredDocumentation", "layer": 2, "children": [], "ischanged": false, "src": "57:272"}, {"id": "7", "name": "StructDefinition", "layer": 2, "children": [{"id": "6", "name": "VariableDeclaration", "layer": 3, "children": [{"id": "5", "name": "Mapping", "layer": 4, "children": [{"id": "3", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "384:7"}, {"id": "4", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "395:7"}], "ischanged": false, "src": "376:27"}], "ischanged": false, "src": "376:33"}], "ischanged": false, "src": "352:64"}, {"id": "43", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "42", "name": "Block", "layer": 3, "children": [{"id": "23", "name": "VariableDeclarationStatement", "layer": 4, "children": [{"id": "19", "name": "VariableDeclaration", "layer": 5, "children": [{"id": "18", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "583:7"}], "ischanged": false, "src": "583:14"}, {"id": "22", "name": "BinaryOperation", "layer": 5, "children": [{"id": "20", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "600:5"}, {"id": "21", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "609:1"}], "ischanged": false, "src": "600:10"}], "ischanged": false, "src": "583:27"}, {"id": "32", "name": "VariableDeclarationStatement", "layer": 4, "children": [{"id": "25", "name": "VariableDeclaration", "layer": 5, "children": [{"id": "24", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "620:7"}], "ischanged": false, "src": "620:12"}, {"id": "31", "name": "BinaryOperation", "layer": 5, "children": [{"id": "26", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "635:1"}, {"id": "30", "name": "TupleExpression", "layer": 6, "children": [{"id": "29", "name": "BinaryOperation", "layer": 7, "children": [{"id": "27", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "641:5"}, {"id": "28", "name": "Literal", "layer": 8, "children": [], "ischanged": false, "src": "649:4"}], "ischanged": false, "src": "641:12"}], "ischanged": false, "src": "640:14"}], "ischanged": false, "src": "635:19"}], "ischanged": false, "src": "620:34"}, {"id": "41", "name": "Return", "layer": 4, "children": [{"id": "40", "name": "BinaryOperation", "layer": 5, "children": [{"id": "38", "name": "BinaryOperation", "layer": 6, "children": [{"id": "36", "name": "IndexAccess", "layer": 7, "children": [{"id": "34", "name": "MemberAccess", "layer": 8, "children": [{"id": "33", "name": "Identifier", "layer": 9, "children": [], "ischanged": false, "src": "671:6"}], "ischanged": false, "src": "671:12"}, {"id": "35", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "684:6"}], "ischanged": false, "src": "671:20"}, {"id": "37", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "694:4"}], "ischanged": false, "src": "671:27"}, {"id": "39", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "702:1"}], "ischanged": false, "src": "671:32"}], "ischanged": false, "src": "664:39"}], "ischanged": false, "src": "573:137"}, {"id": "8", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "422:66"}, {"id": "14", "name": "ParameterList", "layer": 3, "children": [{"id": "11", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "10", "name": "UserDefinedTypeName", "layer": 5, "children": [{"id": "9", "name": "IdentifierPath", "layer": 6, "children": [], "ischanged": false, "src": "506:6"}], "ischanged": false, "src": "506:6"}], "ischanged": false, "src": "506:21"}, {"id": "13", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "12", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "529:7"}], "ischanged": false, "src": "529:13"}], "ischanged": false, "src": "505:38"}, {"id": "17", "name": "ParameterList", "layer": 3, "children": [{"id": "16", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "15", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "567:4"}], "ischanged": false, "src": "567:4"}], "ischanged": false, "src": "566:6"}], "ischanged": false, "src": "493:217"}, {"id": "69", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "68", "name": "Block", "layer": 3, "children": [{"id": "67", "name": "IfStatement", "layer": 4, "children": [{"id": "54", "name": "Identifier", "layer": 5, "children": [], "ischanged": false, "src": "910:5"}, {"id": "66", "name": "Block", "layer": 5, "children": [{"id": "65", "name": "ExpressionStatement", "layer": 6, "children": [{"id": "64", "name": "FunctionCall", "layer": 7, "children": [{"id": "62", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "986:6"}, {"id": "63", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "994:5"}, {"id": "61", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "980:5"}], "ischanged": false, "src": "980:20"}], "ischanged": false, "src": "980:20"}], "ischanged": false, "src": "966:45"}, {"id": "60", "name": "Block", "layer": 5, "children": [{"id": "59", "name": "ExpressionStatement", "layer": 6, "children": [{"id": "58", "name": "FunctionCall", "layer": 7, "children": [{"id": "56", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "935:6"}, {"id": "57", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "943:5"}, {"id": "55", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "931:3"}], "ischanged": false, "src": "931:18"}], "ischanged": false, "src": "931:18"}], "ischanged": false, "src": "917:43"}], "ischanged": false, "src": "906:105"}], "ischanged": false, "src": "896:121"}, {"id": "44", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "716:71"}, {"id": "52", "name": "ParameterList", "layer": 3, "children": [{"id": "47", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "46", "name": "UserDefinedTypeName", "layer": 5, "children": [{"id": "45", "name": "IdentifierPath", "layer": 6, "children": [], "ischanged": false, "src": "816:6"}], "ischanged": false, "src": "816:6"}], "ischanged": false, "src": "816:21"}, {"id": "49", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "48", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "847:7"}], "ischanged": false, "src": "847:13"}, {"id": "51", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "50", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "870:4"}], "ischanged": false, "src": "870:10"}], "ischanged": false, "src": "806:80"}, {"id": "53", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "896:0"}], "ischanged": false, "src": "792:225"}, {"id": "102", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "101", "name": "Block", "layer": 3, "children": [{"id": "83", "name": "VariableDeclarationStatement", "layer": 4, "children": [{"id": "79", "name": "VariableDeclaration", "layer": 5, "children": [{"id": "78", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "1146:7"}], "ischanged": false, "src": "1146:14"}, {"id": "82", "name": "BinaryOperation", "layer": 5, "children": [{"id": "80", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "1163:5"}, {"id": "81", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "1172:1"}], "ischanged": false, "src": "1163:10"}], "ischanged": false, "src": "1146:27"}, {"id": "92", "name": "VariableDeclarationStatement", "layer": 4, "children": [{"id": "85", "name": "VariableDeclaration", "layer": 5, "children": [{"id": "84", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "1183:7"}], "ischanged": false, "src": "1183:12"}, {"id": "91", "name": "BinaryOperation", "layer": 5, "children": [{"id": "86", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "1198:1"}, {"id": "90", "name": "TupleExpression", "layer": 6, "children": [{"id": "89", "name": "BinaryOperation", "layer": 7, "children": [{"id": "87", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "1204:5"}, {"id": "88", "name": "Literal", "layer": 8, "children": [], "ischanged": false, "src": "1212:4"}], "ischanged": false, "src": "1204:12"}], "ischanged": false, "src": "1203:14"}], "ischanged": false, "src": "1198:19"}], "ischanged": false, "src": "1183:34"}, {"id": "100", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "99", "name": "Assignment", "layer": 5, "children": [{"id": "97", "name": "IndexAccess", "layer": 6, "children": [{"id": "96", "name": "MemberAccess", "layer": 7, "children": [{"id": "93", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "1227:6"}], "ischanged": false, "src": "1227:12"}, {"id": "95", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "1240:6"}], "ischanged": false, "src": "1227:20"}, {"id": "98", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "1251:4"}], "ischanged": false, "src": "1227:28"}], "ischanged": false, "src": "1227:28"}], "ischanged": false, "src": "1136:126"}, {"id": "70", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "1023:48"}, {"id": "76", "name": "ParameterList", "layer": 3, "children": [{"id": "73", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "72", "name": "UserDefinedTypeName", "layer": 5, "children": [{"id": "71", "name": "IdentifierPath", "layer": 6, "children": [], "ischanged": false, "src": "1089:6"}], "ischanged": false, "src": "1089:6"}], "ischanged": false, "src": "1089:21"}, {"id": "75", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "74", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "1112:7"}], "ischanged": false, "src": "1112:13"}], "ischanged": false, "src": "1088:38"}, {"id": "77", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "1136:0"}], "ischanged": false, "src": "1076:186"}, {"id": "136", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "135", "name": "Block", "layer": 3, "children": [{"id": "116", "name": "VariableDeclarationStatement", "layer": 4, "children": [{"id": "112", "name": "VariableDeclaration", "layer": 5, "children": [{"id": "111", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "1395:7"}], "ischanged": false, "src": "1395:14"}, {"id": "115", "name": "BinaryOperation", "layer": 5, "children": [{"id": "113", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "1412:5"}, {"id": "114", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "1421:1"}], "ischanged": false, "src": "1412:10"}], "ischanged": false, "src": "1395:27"}, {"id": "125", "name": "VariableDeclarationStatement", "layer": 4, "children": [{"id": "118", "name": "VariableDeclaration", "layer": 5, "children": [{"id": "117", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "1432:7"}], "ischanged": false, "src": "1432:12"}, {"id": "124", "name": "BinaryOperation", "layer": 5, "children": [{"id": "119", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "1447:1"}, {"id": "123", "name": "TupleExpression", "layer": 6, "children": [{"id": "122", "name": "BinaryOperation", "layer": 7, "children": [{"id": "120", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "1453:5"}, {"id": "121", "name": "Literal", "layer": 8, "children": [], "ischanged": false, "src": "1461:4"}], "ischanged": false, "src": "1453:12"}], "ischanged": false, "src": "1452:14"}], "ischanged": false, "src": "1447:19"}], "ischanged": false, "src": "1432:34"}, {"id": "134", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "133", "name": "Assignment", "layer": 5, "children": [{"id": "130", "name": "IndexAccess", "layer": 6, "children": [{"id": "129", "name": "MemberAccess", "layer": 7, "children": [{"id": "126", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "1476:6"}], "ischanged": false, "src": "1476:12"}, {"id": "128", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "1489:6"}], "ischanged": false, "src": "1476:20"}, {"id": "132", "name": "UnaryOperation", "layer": 6, "children": [{"id": "131", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "1501:4"}], "ischanged": false, "src": "1500:5"}], "ischanged": false, "src": "1476:29"}], "ischanged": false, "src": "1476:29"}], "ischanged": false, "src": "1385:127"}, {"id": "103", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "1268:50"}, {"id": "109", "name": "ParameterList", "layer": 3, "children": [{"id": "106", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "105", "name": "UserDefinedTypeName", "layer": 5, "children": [{"id": "104", "name": "IdentifierPath", "layer": 6, "children": [], "ischanged": false, "src": "1338:6"}], "ischanged": false, "src": "1338:6"}], "ischanged": false, "src": "1338:21"}, {"id": "108", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "107", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "1361:7"}], "ischanged": false, "src": "1361:13"}], "ischanged": false, "src": "1337:38"}, {"id": "110", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "1385:0"}], "ischanged": false, "src": "1323:189"}], "ischanged": false, "src": "330:1184"}], "ischanged": false, "src": "32:1483", "ast_type": "ast", "source": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\n/**\n * @dev Library for managing uint256 to bool mapping in a compact and efficient way, providing the keys are sequential.\n * Largelly inspired by Uniswap's https://github.com/Uniswap/merkle-distributor/blob/master/contracts/MerkleDistributor.sol[merkle-distributor].\n */\nlibrary BitMaps {\n    struct BitMap {\n        mapping(uint256 => uint256) _data;\n    }\n\n    /**\n     * @dev Returns whether the bit at `index` is set.\n     */\n    function get(BitMap storage bitmap, uint256 index) internal view returns (bool) {\n        uint256 bucket = index >> 8;\n        uint256 mask = 1 << (index & 0xff);\n        return bitmap._data[bucket] & mask != 0;\n    }\n\n    /**\n     * @dev Sets the bit at `index` to the boolean `value`.\n     */\n    function setTo(\n        BitMap storage bitmap,\n        uint256 index,\n        bool value\n    ) internal {\n        if (value) {\n            set(bitmap, index);\n        } else {\n            unset(bitmap, index);\n        }\n    }\n\n    /**\n     * @dev Sets the bit at `index`.\n     */\n    function set(BitMap storage bitmap, uint256 index) internal {\n        uint256 bucket = index >> 8;\n        uint256 mask = 1 << (index & 0xff);\n        bitmap._data[bucket] |= mask;\n    }\n\n    /**\n     * @dev Unsets the bit at `index`.\n     */\n    function unset(BitMap storage bitmap, uint256 index) internal {\n        uint256 bucket = index >> 8;\n        uint256 mask = 1 << (index & 0xff);\n        bitmap._data[bucket] &= ~mask;\n    }\n}\n"}
{"id": "294", "name": "SourceUnit", "layer": 0, "children": [{"id": "1", "name": "PragmaDirective", "layer": 1, "children": [], "ischanged": false, "src": "33:23"}, {"id": "2", "name": "ImportDirective", "layer": 1, "children": [], "ischanged": false, "src": "58:30"}, {"id": "3", "name": "ImportDirective", "layer": 1, "children": [], "ischanged": false, "src": "89:30"}, {"id": "293", "name": "ContractDefinition", "layer": 1, "children": [{"id": "6", "name": "InheritanceSpecifier", "layer": 2, "children": [{"id": "5", "name": "IdentifierPath", "layer": 3, "children": [], "ischanged": false, "src": "972:7"}], "ischanged": false, "src": "972:7"}, {"id": "4", "name": "StructuredDocumentation", "layer": 2, "children": [], "ischanged": false, "src": "121:822"}, {"id": "12", "name": "EventDefinition", "layer": 2, "children": [{"id": "11", "name": "ParameterList", "layer": 3, "children": [{"id": "8", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "7", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "1003:7"}], "ischanged": false, "src": "1003:15"}, {"id": "10", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "9", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "1020:7"}], "ischanged": false, "src": "1020:14"}], "ischanged": false, "src": "1002:33"}], "ischanged": false, "src": "986:50"}, {"id": "18", "name": "EventDefinition", "layer": 2, "children": [{"id": "17", "name": "ParameterList", "layer": 3, "children": [{"id": "14", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "13", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "1063:7"}], "ischanged": false, "src": "1063:10"}, {"id": "16", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "15", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "1075:7"}], "ischanged": false, "src": "1075:14"}], "ischanged": false, "src": "1062:28"}], "ischanged": false, "src": "1041:50"}, {"id": "24", "name": "EventDefinition", "layer": 2, "children": [{"id": "23", "name": "ParameterList", "layer": 3, "children": [{"id": "20", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "19", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "1118:7"}], "ischanged": false, "src": "1118:12"}, {"id": "22", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "21", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "1132:7"}], "ischanged": false, "src": "1132:14"}], "ischanged": false, "src": "1117:30"}], "ischanged": false, "src": "1096:52"}, {"id": "26", "name": "VariableDeclaration", "layer": 2, "children": [{"id": "25", "name": "ElementaryTypeName", "layer": 3, "children": [], "ischanged": false, "src": "1154:7"}], "ischanged": false, "src": "1154:28"}, {"id": "28", "name": "VariableDeclaration", "layer": 2, "children": [{"id": "27", "name": "ElementaryTypeName", "layer": 3, "children": [], "ischanged": false, "src": "1188:7"}], "ischanged": false, "src": "1188:30"}, {"id": "32", "name": "VariableDeclaration", "layer": 2, "children": [{"id": "31", "name": "Mapping", "layer": 3, "children": [{"id": "29", "name": "ElementaryTypeName", "layer": 4, "children": [], "ischanged": false, "src": "1233:7"}, {"id": "30", "name": "ElementaryTypeName", "layer": 4, "children": [], "ischanged": false, "src": "1244:7"}], "ischanged": false, "src": "1225:27"}], "ischanged": false, "src": "1225:43"}, {"id": "36", "name": "VariableDeclaration", "layer": 2, "children": [{"id": "35", "name": "Mapping", "layer": 3, "children": [{"id": "33", "name": "ElementaryTypeName", "layer": 4, "children": [], "ischanged": false, "src": "1282:7"}, {"id": "34", "name": "ElementaryTypeName", "layer": 4, "children": [], "ischanged": false, "src": "1293:7"}], "ischanged": false, "src": "1274:27"}], "ischanged": false, "src": "1274:45"}, {"id": "39", "name": "VariableDeclaration", "layer": 2, "children": [{"id": "38", "name": "ArrayTypeName", "layer": 3, "children": [{"id": "37", "name": "ElementaryTypeName", "layer": 4, "children": [], "ischanged": false, "src": "1325:7"}], "ischanged": false, "src": "1325:9"}], "ischanged": false, "src": "1325:25"}, {"id": "89", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "88", "name": "Block", "layer": 3, "children": [{"id": "57", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "56", "name": "FunctionCall", "layer": 5, "children": [{"id": "54", "name": "BinaryOperation", "layer": 6, "children": [{"id": "51", "name": "MemberAccess", "layer": 7, "children": [{"id": "50", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "1792:6"}], "ischanged": false, "src": "1792:13"}, {"id": "53", "name": "MemberAccess", "layer": 7, "children": [{"id": "52", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "1809:7"}], "ischanged": false, "src": "1809:14"}], "ischanged": false, "src": "1792:31"}, {"id": "55", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "1825:52"}, {"id": "49", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "1784:7"}], "ischanged": false, "src": "1784:94"}], "ischanged": false, "src": "1784:94"}, {"id": "65", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "64", "name": "FunctionCall", "layer": 5, "children": [{"id": "62", "name": "BinaryOperation", "layer": 6, "children": [{"id": "60", "name": "MemberAccess", "layer": 7, "children": [{"id": "59", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "1896:6"}], "ischanged": false, "src": "1896:13"}, {"id": "61", "name": "Literal", "layer": 7, "children": [], "ischanged": false, "src": "1912:1"}], "ischanged": false, "src": "1896:17"}, {"id": "63", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "1915:28"}, {"id": "58", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "1888:7"}], "ischanged": false, "src": "1888:56"}], "ischanged": false, "src": "1888:56"}, {"id": "87", "name": "ForStatement", "layer": 4, "children": [{"id": "86", "name": "Block", "layer": 5, "children": [{"id": "85", "name": "ExpressionStatement", "layer": 6, "children": [{"id": "84", "name": "FunctionCall", "layer": 7, "children": [{"id": "80", "name": "IndexAccess", "layer": 8, "children": [{"id": "78", "name": "Identifier", "layer": 9, "children": [], "ischanged": false, "src": "2023:6"}, {"id": "79", "name": "Identifier", "layer": 9, "children": [], "ischanged": false, "src": "2030:1"}], "ischanged": false, "src": "2023:9"}, {"id": "83", "name": "IndexAccess", "layer": 8, "children": [{"id": "81", "name": "Identifier", "layer": 9, "children": [], "ischanged": false, "src": "2034:7"}, {"id": "82", "name": "Identifier", "layer": 9, "children": [], "ischanged": false, "src": "2042:1"}], "ischanged": false, "src": "2034:10"}, {"id": "77", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "2013:9"}], "ischanged": false, "src": "2013:32"}], "ischanged": false, "src": "2013:32"}], "ischanged": false, "src": "1999:57"}, {"id": "73", "name": "BinaryOperation", "layer": 5, "children": [{"id": "70", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "1975:1"}, {"id": "72", "name": "MemberAccess", "layer": 6, "children": [{"id": "71", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "1979:6"}], "ischanged": false, "src": "1979:13"}], "ischanged": false, "src": "1975:17"}, {"id": "69", "name": "VariableDeclarationStatement", "layer": 5, "children": [{"id": "67", "name": "VariableDeclaration", "layer": 6, "children": [{"id": "66", "name": "ElementaryTypeName", "layer": 7, "children": [], "ischanged": false, "src": "1960:7"}], "ischanged": false, "src": "1960:9"}, {"id": "68", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "1972:1"}], "ischanged": false, "src": "1960:13"}, {"id": "76", "name": "ExpressionStatement", "layer": 5, "children": [{"id": "75", "name": "UnaryOperation", "layer": 6, "children": [{"id": "74", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "1994:1"}], "ischanged": false, "src": "1994:3"}], "ischanged": false, "src": "1994:3"}], "ischanged": false, "src": "1955:101"}], "ischanged": false, "src": "1774:288"}, {"id": "40", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "1357:341"}, {"id": "47", "name": "ParameterList", "layer": 3, "children": [{"id": "43", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "42", "name": "ArrayTypeName", "layer": 5, "children": [{"id": "41", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "1715:7"}], "ischanged": false, "src": "1715:9"}], "ischanged": false, "src": "1715:23"}, {"id": "46", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "45", "name": "ArrayTypeName", "layer": 5, "children": [{"id": "44", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "1740:7"}], "ischanged": false, "src": "1740:9"}], "ischanged": false, "src": "1740:24"}], "ischanged": false, "src": "1714:51"}, {"id": "48", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "1774:0"}], "ischanged": false, "src": "1703:359"}, {"id": "101", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "100", "name": "Block", "layer": 3, "children": [{"id": "99", "name": "EmitStatement", "layer": 4, "children": [{"id": "98", "name": "FunctionCall", "layer": 5, "children": [{"id": "95", "name": "FunctionCall", "layer": 6, "children": [{"id": "94", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "2640:10"}], "ischanged": false, "src": "2640:12"}, {"id": "97", "name": "MemberAccess", "layer": 6, "children": [{"id": "96", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "2654:3"}], "ischanged": false, "src": "2654:9"}, {"id": "93", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "2624:15"}], "ischanged": false, "src": "2624:40"}], "ischanged": false, "src": "2619:45"}], "ischanged": false, "src": "2609:62"}, {"id": "90", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "2068:501"}, {"id": "91", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "2581:2"}, {"id": "92", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "2609:0"}], "ischanged": false, "src": "2574:97"}, {"id": "110", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "109", "name": "Block", "layer": 3, "children": [{"id": "108", "name": "Return", "layer": 4, "children": [{"id": "107", "name": "Identifier", "layer": 5, "children": [], "ischanged": false, "src": "2819:12"}], "ischanged": false, "src": "2812:19"}], "ischanged": false, "src": "2802:36"}, {"id": "102", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "2677:67"}, {"id": "103", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "2769:2"}, {"id": "106", "name": "ParameterList", "layer": 3, "children": [{"id": "105", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "104", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "2793:7"}], "ischanged": false, "src": "2793:7"}], "ischanged": false, "src": "2792:9"}], "ischanged": false, "src": "2749:89"}, {"id": "119", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "118", "name": "Block", "layer": 3, "children": [{"id": "117", "name": "Return", "layer": 4, "children": [{"id": "116", "name": "Identifier", "layer": 5, "children": [], "ischanged": false, "src": "2999:14"}], "ischanged": false, "src": "2992:21"}], "ischanged": false, "src": "2982:38"}, {"id": "111", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "2844:78"}, {"id": "112", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "2949:2"}, {"id": "115", "name": "ParameterList", "layer": 3, "children": [{"id": "114", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "113", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "2973:7"}], "ischanged": false, "src": "2973:7"}], "ischanged": false, "src": "2972:9"}], "ischanged": false, "src": "2927:93"}, {"id": "132", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "131", "name": "Block", "layer": 3, "children": [{"id": "130", "name": "Return", "layer": 4, "children": [{"id": "129", "name": "IndexAccess", "layer": 5, "children": [{"id": "127", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "3186:7"}, {"id": "128", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "3194:7"}], "ischanged": false, "src": "3186:16"}], "ischanged": false, "src": "3179:23"}], "ischanged": false, "src": "3169:40"}, {"id": "120", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "3026:75"}, {"id": "123", "name": "ParameterList", "layer": 3, "children": [{"id": "122", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "121", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "3122:7"}], "ischanged": false, "src": "3122:15"}], "ischanged": false, "src": "3121:17"}, {"id": "126", "name": "ParameterList", "layer": 3, "children": [{"id": "125", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "124", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "3160:7"}], "ischanged": false, "src": "3160:7"}], "ischanged": false, "src": "3159:9"}], "ischanged": false, "src": "3106:103"}, {"id": "145", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "144", "name": "Block", "layer": 3, "children": [{"id": "143", "name": "Return", "layer": 4, "children": [{"id": "142", "name": "IndexAccess", "layer": 5, "children": [{"id": "140", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "3385:9"}, {"id": "141", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "3395:7"}], "ischanged": false, "src": "3385:18"}], "ischanged": false, "src": "3378:25"}], "ischanged": false, "src": "3368:42"}, {"id": "133", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "3215:83"}, {"id": "136", "name": "ParameterList", "layer": 3, "children": [{"id": "135", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "134", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "3321:7"}], "ischanged": false, "src": "3321:15"}], "ischanged": false, "src": "3320:17"}, {"id": "139", "name": "ParameterList", "layer": 3, "children": [{"id": "138", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "137", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "3359:7"}], "ischanged": false, "src": "3359:7"}], "ischanged": false, "src": "3358:9"}], "ischanged": false, "src": "3303:107"}, {"id": "158", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "157", "name": "Block", "layer": 3, "children": [{"id": "156", "name": "Return", "layer": 4, "children": [{"id": "155", "name": "IndexAccess", "layer": 5, "children": [{"id": "153", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "3573:7"}, {"id": "154", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "3581:5"}], "ischanged": false, "src": "3573:14"}], "ischanged": false, "src": "3566:21"}], "ischanged": false, "src": "3556:38"}, {"id": "146", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "3416:75"}, {"id": "149", "name": "ParameterList", "layer": 3, "children": [{"id": "148", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "147", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "3511:7"}], "ischanged": false, "src": "3511:13"}], "ischanged": false, "src": "3510:15"}, {"id": "152", "name": "ParameterList", "layer": 3, "children": [{"id": "151", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "150", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "3547:7"}], "ischanged": false, "src": "3547:7"}], "ischanged": false, "src": "3546:9"}], "ischanged": false, "src": "3496:98"}, {"id": "234", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "233", "name": "Block", "layer": 3, "children": [{"id": "172", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "171", "name": "FunctionCall", "layer": 5, "children": [{"id": "169", "name": "BinaryOperation", "layer": 6, "children": [{"id": "167", "name": "IndexAccess", "layer": 7, "children": [{"id": "165", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "3863:7"}, {"id": "166", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "3871:7"}], "ischanged": false, "src": "3863:16"}, {"id": "168", "name": "Literal", "layer": 7, "children": [], "ischanged": false, "src": "3882:1"}], "ischanged": false, "src": "3863:20"}, {"id": "170", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "3885:40"}, {"id": "164", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "3855:7"}], "ischanged": false, "src": "3855:71"}], "ischanged": false, "src": "3855:71"}, {"id": "182", "name": "VariableDeclarationStatement", "layer": 4, "children": [{"id": "174", "name": "VariableDeclaration", "layer": 5, "children": [{"id": "173", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "3937:7"}], "ischanged": false, "src": "3937:21"}, {"id": "181", "name": "BinaryOperation", "layer": 5, "children": [{"id": "179", "name": "MemberAccess", "layer": 6, "children": [{"id": "178", "name": "FunctionCall", "layer": 7, "children": [{"id": "177", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "3969:4"}, {"id": "176", "name": "ElementaryTypeNameExpression", "layer": 8, "children": [{"id": "175", "name": "ElementaryTypeName", "layer": 9, "children": [], "ischanged": false, "src": "3961:7"}], "ischanged": false, "src": "3961:7"}], "ischanged": false, "src": "3961:13"}], "ischanged": false, "src": "3961:21"}, {"id": "180", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "3985:14"}], "ischanged": false, "src": "3961:38"}], "ischanged": false, "src": "3937:62"}, {"id": "197", "name": "VariableDeclarationStatement", "layer": 4, "children": [{"id": "184", "name": "VariableDeclaration", "layer": 5, "children": [{"id": "183", "name": "ElementaryTypeName", "layer": 6, "children": [], "ischanged": false, "src": "4009:7"}], "ischanged": false, "src": "4009:15"}, {"id": "196", "name": "BinaryOperation", "layer": 5, "children": [{"id": "192", "name": "BinaryOperation", "layer": 6, "children": [{"id": "190", "name": "TupleExpression", "layer": 7, "children": [{"id": "189", "name": "BinaryOperation", "layer": 8, "children": [{"id": "185", "name": "Identifier", "layer": 9, "children": [], "ischanged": false, "src": "4028:13"}, {"id": "188", "name": "IndexAccess", "layer": 9, "children": [{"id": "186", "name": "Identifier", "layer": 10, "children": [], "ischanged": false, "src": "4044:7"}, {"id": "187", "name": "Identifier", "layer": 10, "children": [], "ischanged": false, "src": "4052:7"}], "ischanged": false, "src": "4044:16"}], "ischanged": false, "src": "4028:32"}], "ischanged": false, "src": "4027:34"}, {"id": "191", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4064:12"}], "ischanged": false, "src": "4027:49"}, {"id": "195", "name": "IndexAccess", "layer": 6, "children": [{"id": "193", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4079:9"}, {"id": "194", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4089:7"}], "ischanged": false, "src": "4079:18"}], "ischanged": false, "src": "4027:70"}], "ischanged": false, "src": "4009:88"}, {"id": "204", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "203", "name": "FunctionCall", "layer": 5, "children": [{"id": "201", "name": "BinaryOperation", "layer": 6, "children": [{"id": "199", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4116:7"}, {"id": "200", "name": "Literal", "layer": 7, "children": [], "ischanged": false, "src": "4127:1"}], "ischanged": false, "src": "4116:12"}, {"id": "202", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "4130:45"}, {"id": "198", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4108:7"}], "ischanged": false, "src": "4108:68"}], "ischanged": false, "src": "4108:68"}, {"id": "214", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "213", "name": "Assignment", "layer": 5, "children": [{"id": "207", "name": "IndexAccess", "layer": 6, "children": [{"id": "205", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4187:9"}, {"id": "206", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4197:7"}], "ischanged": false, "src": "4187:18"}, {"id": "212", "name": "BinaryOperation", "layer": 6, "children": [{"id": "210", "name": "IndexAccess", "layer": 7, "children": [{"id": "208", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "4208:9"}, {"id": "209", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "4218:7"}], "ischanged": false, "src": "4208:18"}, {"id": "211", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4229:7"}], "ischanged": false, "src": "4208:28"}], "ischanged": false, "src": "4187:49"}], "ischanged": false, "src": "4187:49"}, {"id": "220", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "219", "name": "Assignment", "layer": 5, "children": [{"id": "215", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4246:14"}, {"id": "218", "name": "BinaryOperation", "layer": 6, "children": [{"id": "216", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4263:14"}, {"id": "217", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4280:7"}], "ischanged": false, "src": "4263:24"}], "ischanged": false, "src": "4246:41"}], "ischanged": false, "src": "4246:41"}, {"id": "227", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "226", "name": "FunctionCall", "layer": 5, "children": [{"id": "224", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4316:7"}, {"id": "225", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4325:7"}, {"id": "223", "name": "MemberAccess", "layer": 6, "children": [{"id": "221", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4298:7"}], "ischanged": false, "src": "4298:17"}], "ischanged": false, "src": "4298:35"}], "ischanged": false, "src": "4298:35"}, {"id": "232", "name": "EmitStatement", "layer": 4, "children": [{"id": "231", "name": "FunctionCall", "layer": 5, "children": [{"id": "229", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4364:7"}, {"id": "230", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4373:7"}, {"id": "228", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4348:15"}], "ischanged": false, "src": "4348:33"}], "ischanged": false, "src": "4343:38"}], "ischanged": false, "src": "3845:543"}, {"id": "159", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "3600:183"}, {"id": "162", "name": "ParameterList", "layer": 3, "children": [{"id": "161", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "160", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "3805:15"}], "ischanged": false, "src": "3805:23"}], "ischanged": false, "src": "3804:25"}, {"id": "163", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "3845:0"}], "ischanged": false, "src": "3788:600"}, {"id": "292", "name": "FunctionDefinition", "layer": 2, "children": [{"id": "291", "name": "Block", "layer": 3, "children": [{"id": "251", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "250", "name": "FunctionCall", "layer": 5, "children": [{"id": "248", "name": "BinaryOperation", "layer": 6, "children": [{"id": "243", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4652:7"}, {"id": "247", "name": "FunctionCall", "layer": 7, "children": [{"id": "246", "name": "Literal", "layer": 8, "children": [], "ischanged": false, "src": "4671:1"}, {"id": "245", "name": "ElementaryTypeNameExpression", "layer": 8, "children": [{"id": "244", "name": "ElementaryTypeName", "layer": 9, "children": [], "ischanged": false, "src": "4663:7"}], "ischanged": false, "src": "4663:7"}], "ischanged": false, "src": "4663:10"}], "ischanged": false, "src": "4652:21"}, {"id": "249", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "4675:46"}, {"id": "242", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4644:7"}], "ischanged": false, "src": "4644:78"}], "ischanged": false, "src": "4644:78"}, {"id": "258", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "257", "name": "FunctionCall", "layer": 5, "children": [{"id": "255", "name": "BinaryOperation", "layer": 6, "children": [{"id": "253", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4740:7"}, {"id": "254", "name": "Literal", "layer": 7, "children": [], "ischanged": false, "src": "4750:1"}], "ischanged": false, "src": "4740:11"}, {"id": "256", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "4753:31"}, {"id": "252", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4732:7"}], "ischanged": false, "src": "4732:53"}], "ischanged": false, "src": "4732:53"}, {"id": "267", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "266", "name": "FunctionCall", "layer": 5, "children": [{"id": "264", "name": "BinaryOperation", "layer": 6, "children": [{"id": "262", "name": "IndexAccess", "layer": 7, "children": [{"id": "260", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "4803:7"}, {"id": "261", "name": "Identifier", "layer": 8, "children": [], "ischanged": false, "src": "4811:7"}], "ischanged": false, "src": "4803:16"}, {"id": "263", "name": "Literal", "layer": 7, "children": [], "ischanged": false, "src": "4823:1"}], "ischanged": false, "src": "4803:21"}, {"id": "265", "name": "Literal", "layer": 6, "children": [], "ischanged": false, "src": "4826:45"}, {"id": "259", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4795:7"}], "ischanged": false, "src": "4795:77"}], "ischanged": false, "src": "4795:77"}, {"id": "273", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "272", "name": "FunctionCall", "layer": 5, "children": [{"id": "271", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4896:7"}, {"id": "270", "name": "MemberAccess", "layer": 6, "children": [{"id": "268", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4883:7"}], "ischanged": false, "src": "4883:12"}], "ischanged": false, "src": "4883:21"}], "ischanged": false, "src": "4883:21"}, {"id": "279", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "278", "name": "Assignment", "layer": 5, "children": [{"id": "276", "name": "IndexAccess", "layer": 6, "children": [{"id": "274", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4914:7"}, {"id": "275", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4922:7"}], "ischanged": false, "src": "4914:16"}, {"id": "277", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4933:7"}], "ischanged": false, "src": "4914:26"}], "ischanged": false, "src": "4914:26"}, {"id": "285", "name": "ExpressionStatement", "layer": 4, "children": [{"id": "284", "name": "Assignment", "layer": 5, "children": [{"id": "280", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "4950:12"}, {"id": "283", "name": "BinaryOperation", "layer": 6, "children": [{"id": "281", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4965:12"}, {"id": "282", "name": "Identifier", "layer": 7, "children": [], "ischanged": false, "src": "4980:7"}], "ischanged": false, "src": "4965:22"}], "ischanged": false, "src": "4950:37"}], "ischanged": false, "src": "4950:37"}, {"id": "290", "name": "EmitStatement", "layer": 4, "children": [{"id": "289", "name": "FunctionCall", "layer": 5, "children": [{"id": "287", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "5013:7"}, {"id": "288", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "5022:7"}, {"id": "286", "name": "Identifier", "layer": 6, "children": [], "ischanged": false, "src": "5002:10"}], "ischanged": false, "src": "5002:28"}], "ischanged": false, "src": "4997:33"}], "ischanged": false, "src": "4634:403"}, {"id": "235", "name": "StructuredDocumentation", "layer": 3, "children": [], "ischanged": false, "src": "4394:174"}, {"id": "240", "name": "ParameterList", "layer": 3, "children": [{"id": "237", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "236", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "4592:7"}], "ischanged": false, "src": "4592:15"}, {"id": "239", "name": "VariableDeclaration", "layer": 4, "children": [{"id": "238", "name": "ElementaryTypeName", "layer": 5, "children": [], "ischanged": false, "src": "4609:7"}], "ischanged": false, "src": "4609:15"}], "ischanged": false, "src": "4591:34"}, {"id": "241", "name": "ParameterList", "layer": 3, "children": [], "ischanged": false, "src": "4634:0"}], "ischanged": false, "src": "4573:464"}], "ischanged": false, "src": "944:4095"}], "ischanged": false, "src": "33:5007", "ast_type": "ast", "source": "// SPDX-License-Identifier: MIT\n\npragma solidity ^0.8.0;\n\nimport \"../utils/Address.sol\";\nimport \"../utils/Context.sol\";\n\n/**\n * @title PaymentSplitter\n * @dev This contract allows to split Ether payments among a group of accounts. The sender does not need to be aware\n * that the Ether will be split in this way, since it is handled transparently by the contract.\n *\n * The split can be in equal parts or in any other arbitrary proportion. The way this is specified is by assigning each\n * account to a number of shares. Of all the Ether that this contract receives, each account will then be able to claim\n * an amount proportional to the percentage of total shares they were assigned.\n *\n * `PaymentSplitter` follows a _pull payment_ model. This means that payments are not automatically forwarded to the\n * accounts but kept in this contract, and the actual transfer is triggered as a separate step by calling the {release}\n * function.\n */\ncontract PaymentSplitter is Context {\n    event PayeeAdded(address account, uint256 shares);\n    event PaymentReleased(address to, uint256 amount);\n    event PaymentReceived(address from, uint256 amount);\n\n    uint256 private _totalShares;\n    uint256 private _totalReleased;\n\n    mapping(address => uint256) private _shares;\n    mapping(address => uint256) private _released;\n    address[] private _payees;\n\n    /**\n     * @dev Creates an instance of `PaymentSplitter` where each account in `payees` is assigned the number of shares at\n     * the matching position in the `shares` array.\n     *\n     * All addresses in `payees` must be non-zero. Both arrays must have the same non-zero length, and there must be no\n     * duplicates in `payees`.\n     */\n    constructor(address[] memory payees, uint256[] memory shares_) payable {\n        require(payees.length == shares_.length, \"PaymentSplitter: payees and shares length mismatch\");\n        require(payees.length > 0, \"PaymentSplitter: no payees\");\n\n        for (uint256 i = 0; i < payees.length; i++) {\n            _addPayee(payees[i], shares_[i]);\n        }\n    }\n\n    /**\n     * @dev The Ether received will be logged with {PaymentReceived} events. Note that these events are not fully\n     * reliable: it's possible for a contract to receive Ether without triggering this function. This only affects the\n     * reliability of the events, and not the actual splitting of Ether.\n     *\n     * To learn more about this see the Solidity documentation for\n     * https://solidity.readthedocs.io/en/latest/contracts.html#fallback-function[fallback\n     * functions].\n     */\n    receive() external payable virtual {\n        emit PaymentReceived(_msgSender(), msg.value);\n    }\n\n    /**\n     * @dev Getter for the total shares held by payees.\n     */\n    function totalShares() public view returns (uint256) {\n        return _totalShares;\n    }\n\n    /**\n     * @dev Getter for the total amount of Ether already released.\n     */\n    function totalReleased() public view returns (uint256) {\n        return _totalReleased;\n    }\n\n    /**\n     * @dev Getter for the amount of shares held by an account.\n     */\n    function shares(address account) public view returns (uint256) {\n        return _shares[account];\n    }\n\n    /**\n     * @dev Getter for the amount of Ether already released to a payee.\n     */\n    function released(address account) public view returns (uint256) {\n        return _released[account];\n    }\n\n    /**\n     * @dev Getter for the address of the payee number `index`.\n     */\n    function payee(uint256 index) public view returns (address) {\n        return _payees[index];\n    }\n\n    /**\n     * @dev Triggers a transfer to `account` of the amount of Ether they are owed, according to their percentage of the\n     * total shares and their previous withdrawals.\n     */\n    function release(address payable account) public virtual {\n        require(_shares[account] > 0, \"PaymentSplitter: account has no shares\");\n\n        uint256 totalReceived = address(this).balance + _totalReleased;\n        uint256 payment = (totalReceived * _shares[account]) / _totalShares - _released[account];\n\n        require(payment != 0, \"PaymentSplitter: account is not due payment\");\n\n        _released[account] = _released[account] + payment;\n        _totalReleased = _totalReleased + payment;\n\n        Address.sendValue(account, payment);\n        emit PaymentReleased(account, payment);\n    }\n\n    /**\n     * @dev Add a new payee to the contract.\n     * @param account The address of the payee to add.\n     * @param shares_ The number of shares owned by the payee.\n     */\n    function _addPayee(address account, uint256 shares_) private {\n        require(account != address(0), \"PaymentSplitter: account is the zero address\");\n        require(shares_ > 0, \"PaymentSplitter: shares are 0\");\n        require(_shares[account] == 0, \"PaymentSplitter: account already has shares\");\n\n        _payees.push(account);\n        _shares[account] = shares_;\n        _totalShares = _totalShares + shares_;\n        emit PayeeAdded(account, shares_);\n    }\n}\n"}